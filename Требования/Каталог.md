# Назначение
Каталог предазначен для просмотра ассортимента товаров.

*Основные требования*
- [ ] Возможность просмотра каталога без предварительной регистрации
- [ ] Возможность фильтрации каталога по нескольким факторам
- [ ] Возможность сортировки каталога по нескольким факторам
- [ ] Возможность перехода к подробному просмотру карточки товара
# Доступность
Страница доступна пользователям со следующими ролями:
- Неавторизованный
- Авторизованный

Страница должна открываться при переходе по ссылке, если задан поисковой запрос, включающий слово "купить".
# Макеты
**Прототип макета страницы "Каталог"**

![Прототип макета страницы "Каталог"](https://user-images.githubusercontent.com/104724556/166153813-44bf2257-c74e-49fc-b3c3-1a534daa3300.png)
# Элементы
## Объекты данных
| № | Название элемента | Тип элемента | Источник данных |
| ----------- | ----------- | ----------- | ----------- |
| 1 | Изображение товара | image | product.cover |
| 2 | Название исполнителя | string | product.artist |
| 3 | Название товара | string | product.name |
| 4 | Краткое описание | string | product.info [^3]|
| 5 | Цена товара | string | product.price |
| 6 | Поиск товара | string | Заполняется клиентом |
| 7 | Сортировка | ref | product.ref.sort [^1] |
| 8 | Разделы | ref | product.ref.categories |
| 9 | Фильтр по цене | Динамический бегунок [^2] | Заполняется клиентом |

[^2]: Диапазон бегунка от 500 до 50 000
[^3]: Поле product.info формируется из product.size + product.type + product.comm
## Элементы управления
| № | Название элемента | Логика |
| ----------- | ----------- | ----------- |
| 1 | Изображение товара | Пользователь нажал на элемент. Открывается карточка товара в модальном окне |
| 2 | Название исполнителя | Пользователь нажал на элемент. В новой вкладке пользователю открывается каталог предварительно отфильтрованный по исполнителю. Поле product.artist с оригинальной страницы автоматически подставляется в поле поиска товара |
| 3 | Название товара | Пользователь нажал на элемент. Открывается карточка товара в модальном окне |
| 4 | Бегунок цены | Пользователь выставил крайние значения диапазона. Система обновляет данные на странице каталога в соответствии с выставленым фильтром. Фильтрация происходит по полю product.price |
| 5 | Выбор сортировки | Пользователь выбрал из выпадающего списка нужный способ сортировки результатов. Система распределяет карточки товаров в соответсвии с выбранным типом сортировки [^1] |
| 6 | Поиск товаров | Пользователь ввел данные для поиска. Система обновляет данные на странице каталога в соответсвии с введенным запросом. Поиск данных в базе начинается с третьего введенного символа. Поиск одновременно осуществляется по полям product.artist и product.name |
| 7 | Разделы | Пользователь выбрал раздел товаров. Система обновляет данные на странице каталога в соответсвии с выбранным разделом. Фильтрация осуществляется по полю product.category |

# Базовый сценарий использования
Пользователь просматривает страницу каталога. При необходимости он мажет отфильтровать содержимое через элементы управления 4, 5, 6 и 7. 

Для добавления товара в корзину, пользователю необходимо перейти в карточку товара (см. соответствующий раздел). 

Если по выбранным фильтрам система не нашла ни один товар, на странице отображается надпись "Ничего не найдено".   
